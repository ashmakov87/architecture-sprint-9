### <a name="_b7urdng99y53"></a>**Название задачи: Открытие депозитов онлайн (MVP)** 
### <a name="_hjk0fkfyohdk"></a>**Автор: Шмаков Алексей**
### <a name="_uanumrh8zrui"></a>**Дата: 2025-06-21**
### <a name="_3bfxc9a45514"></a>**Функциональные требования**

| **№** | **Действующие лица или системы** | **Use Case** | **Описание** |
| :-: | :- | :- | :- |
| 1 | Клиент | Подача заявки на депозит через сайт | Клиент выбирает депозит, вводит данные и оставляет заявку |
| 2 | Клиент | Подача заявки на депозит через интернет-банк | Клиент выбирает депозит, вводит сумму и счет, подтверждает через СМС |
| 3 | Кол-центр | Обработка заявки с сайта | Оператор связывается с клиентом, уточняет условия |
| 4 | Бэк-офис | Обработка заявки из интернет-банка | Менеджер проверяет и подтверждает условия депозита в АБС |
| 5 | АБС | Создание депозита | АБС фиксирует новый депозит, отправляет подтверждение клиенту |
| 6 | СМС-шлюз | Уведомление клиента | Клиент получает СМС с подтверждением депозита |

---

### <a name="_u8xz25hbrgql"></a>**Нефункциональные требования**

| **№** | **Требование** |
| :-: | :- |
| 1 | Доступность 99.9% (переключение на резервный ЦОД) |
| 2 | Время ответа менее 1 секунды |
| 3 | Защищенная передача данных (TLS, шифрование) |
| 4 | Минимизация нагрузки на АБС (буферизация, кеширование) |
| 5 | Горизонтальное масштабирование интернет-банка |
| 6 | Поддержка работы с существующими технологиями банка |

---

### <a name="_qmphm5d6rvi3"></a> **Решение**

#### **Диаграммы**

Диаграмма контекста и контейнеров представлены в отдельных файлах:

- `context.puml` — Диаграмма контекста
- `container.puml` — Диаграмма контейнеров

#### **Основные компоненты и интеграции:**

1. **Клиент** взаимодействует с **сайтом** или **интернет-банком** для подачи заявки.
2. **Кол-центр** обрабатывает заявки с сайта.
3. **Бэк-офис** проверяет и подтверждает заявки из интернет-банка.
4. **АБС** фиксирует депозит, передает данные в **СМС-шлюз**.
5. **СМС-шлюз** отправляет клиенту уведомление о депозите.
6. **Трафик шифруется** при передаче данных между компонентами.
7. **Система поддерживает отказоустойчивость** (резервный ЦОД, балансировка нагрузки).

#### **Выбор технологий:**
- **MS SQL, Oracle** — базы данных
- **Kafka** (на перспективу) — асинхронная обработка сообщений
- **React.js, ASP.NET MVC** — фронтенд интернет-банка
- **Spring Boot (Java)** — бэкенд кол-центра
- **Delphi, PL-SQL** — текущий стек АБС

---

### <a name="_bjrr7veeh80c"></a> **Альтернативы**

| Альтернатива | Плюсы | Минусы |
|-------------|-------|--------|
| Прямая интеграция интернет-банка с АБС | Простота, минимальная задержка | Высокая нагрузка на АБС, риски отказов |
| Использование промежуточного слоя API | Разгрузка АБС, кэширование данных | Требует дополнительной разработки |
| Переход интернет-банка на микросервисную архитектуру | Гибкость, масштабируемость | Длительный процесс внедрения |

---

### **Недостатки, ограничения, риски**

- **Высокая нагрузка на АБС**: прямое взаимодействие интернет-банка и АБС недопустимо без оптимизации.
- **Необходимость в шифровании данных**: учитывая, что клиент передает чувствительную информацию.
- **Сложность масштабирования АБС**: система поддерживает только вертикальное масштабирование.
- **Ограничения платформы интернет-банка**: текущая версия несовместима с Kafka, что ограничивает реализацию потоковой обработки данных.

---
